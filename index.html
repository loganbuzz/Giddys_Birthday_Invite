<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Giddy's First Rodeo - Invitation</title>
<style>
  :root{
    --bg:#f7f1e3; /* parchment */
    --ink:#3b2f2f; /* dark brown */
    --accent:#a0522d; /* saddle brown */
    --rope:#c49a6c;
  }
  html,body{height:100%; margin:0; padding:0;}
  body{
    display:flex; align-items:flex-start; justify-content:center; background:var(--accent);
    font-family: "Rockwell", "Lucida Bright", Georgia, "Times New Roman", serif; color:var(--ink);
    text-align:center;
    padding:60px 0; box-sizing:border-box; /* extra padding at top and bottom */
  }
  .page{
    width: 720px; max-width: 95vw; background:var(--bg);
    box-shadow: 0 25px 60px rgba(0,0,0,.35);
    position:relative; padding:60px 28px 100px 28px; overflow:visible;
    border-radius: 22px;
  }
  /* Original rope border */
  .page:before{
    content:""; position:absolute; inset:14px; border:10px solid transparent;
    background:
      repeating-linear-gradient(90deg, var(--rope) 0 6px, #e2c79c 6px 12px) top/100% 12px repeat-x,
      repeating-linear-gradient(90deg, var(--rope) 0 6px, #e2c79c 6px 12px) bottom/100% 12px repeat-x,
      repeating-linear-gradient(0deg, var(--rope) 0 6px, #e2c79c 6px 12px) left/12px 100% repeat-y,
      repeating-linear-gradient(0deg, var(--rope) 0 6px, #e2c79c 6px 12px) right/12px 100% repeat-y;
    border-radius: 22px;
    pointer-events:none;
  }
  .content{ position:relative; border-radius:18px; padding:28px; display:flex; flex-direction:column; align-items:center; box-sizing:border-box;}

  .topline{ letter-spacing:.08em; font-size: 1.5rem; margin-top:10px; color:#6a4a3c; }

  .giddyup{
    font-size:3.2rem; margin:20px 0 0; line-height:1; text-transform:uppercase;
    letter-spacing:.06em; color:var(--accent);
    text-shadow: 0 2px 0 #e8d8c0, 0 6px 18px rgba(0,0,0,.2);
  }
  .hat{ font-size:2rem; }

  .party-title{
    font-family: 'Courier New', Courier, monospace;
    font-size:4rem;
    font-weight:900;
    color:#8B0000;
    text-transform:uppercase;
    letter-spacing:.1em;
    text-shadow:2px 2px 6px rgba(0,0,0,.4);
    margin:20px 0;
  }

  .theme{ margin:12px 0 24px; font-size:2rem; letter-spacing:.06em; }
  .banner{
    margin:20px auto 24px; position:relative; width:fit-content;
  }

  .calendar-button{
    display:inline-flex; flex-direction:column; align-items:center; gap:4px;
    padding:10px 16px; border:3px dotted var(--rope); border-radius:10px;
    background:#f9efe0; font-weight:700; letter-spacing:.06em;
    font-family:inherit; font-size:1.3rem; color:inherit; cursor:pointer;
    transition: transform .15s ease, box-shadow .15s ease;
  }
  .calendar-label{
    font-size:.75rem; font-weight:600; letter-spacing:.1em; text-transform:uppercase;
    color:#6a4a3c;
  }
  .calendar-date{
    display:inline-flex; align-items:center; gap:6px;
  }

  .calendar-button:hover,
  .calendar-button:focus-visible{
    transform: translateY(-1px);
    box-shadow:0 6px 14px rgba(0,0,0,.18);
    outline:none;
  }

  .calendar-options{
    position:absolute; top:calc(100% + 10px); left:50%; transform:translateX(-50%);
    background:#fff8ef; border:2px solid var(--rope); border-radius:12px;
    padding:12px 14px; display:flex; flex-direction:column; gap:8px;
    min-width:230px; box-shadow:0 12px 24px rgba(0,0,0,.18); z-index:20;
  }
  .calendar-options[hidden]{
    display:none !important; /* ensure closed state after static hosting removes hidden styling */
  }

  .calendar-link{
    font-weight:600; color:var(--accent); text-decoration:none;
  }

  .calendar-link:hover,
  .calendar-link:focus-visible{
    text-decoration:underline;
    outline:none;
  }

  .details{ margin:20px auto 16px; width:88%; font-size:1.1rem; text-align:center; }
  .details .row{ margin:14px 0; }
  .label{ font-weight:700; color:#6a4a3c; text-transform:uppercase; letter-spacing:.05em; }
  .value{ padding-top:2px; }

  .divider{ margin:28px 0 20px; font-size:1.2rem; letter-spacing:.3em; color:#8b5a2b; }

  .cta{ margin-top:12px; font-size:1.3rem; }

  .donate{
    margin-top:22px; font-size:.9rem; max-width:420px; color:#6a4a3c
  }

  .donate a{
    color:var(--accent); font-weight:700; text-decoration:none;
  }

  .donate a:hover,
  .donate a:focus-visible{
    text-decoration:underline; outline:none;
  }

  .footer{ margin-top:30px; font-size:1.1rem; color:#6a4a3c; }

  .badge{
    position:absolute; right:18px; top:18px; background:#fff6e8; border:2px solid var(--accent);
    border-radius:999px; padding:10px 14px; font-weight:800; font-size:.95rem; letter-spacing:.06em;
    transform: rotate(8deg);
  }

  .invite-image {
    max-width: 70%;
    height: auto;
    margin: 30px auto;
    border: 4px solid var(--accent);
    border-radius: 12px;
    box-shadow: 0 6px 14px rgba(0,0,0,0.25);
  }

  @media print {
    body{ background:var(--bg); padding:0; }
    .page{ box-shadow:none; width: 6in; aspect-ratio: auto; height: 8.5in; padding:60px 48px 100px 48px; overflow:visible; }
    .calendar-options{ display:none !important; }
  }
</style>
</head>
<body>
  <main class="page" role="article" aria-label="Invitation: Giddy's First Rodeo">
    <div class="badge">Giddy Up! ðŸ¤ </div>
    <section class="content">
      <div class="topline">Y'all are invited to</div>
      <h1 class="giddyup">Giddy's First Rodeo</h1>

      <img src="https://i.imgur.com/ZlyYEs5.png"
           alt="Baby riding a bucking bronco"
           class="invite-image" />

      <div class="theme">Gideon's First Birthday Party!</div>

      <div class="banner">
        <button type="button"
                class="calendar-button"
                aria-haspopup="true"
                aria-expanded="false"
                aria-controls="calendar-links"
                aria-label="Add Giddy's First Rodeo on Saturday, October 18 to your calendar">
          <span class="calendar-label">Add to calendar</span>
          <span class="calendar-date">
            <span class="date-text">Saturday, October 18</span><span class="hat"> ðŸ¤ </span>
          </span>
        </button>
        <div class="calendar-options" id="calendar-links" hidden>
          <a class="calendar-link"
             href="https://calendar.google.com/calendar/render?action=TEMPLATE&amp;text=Giddy%27s+First+Rodeo&amp;dates=20251018T200000Z/20251018T220000Z&amp;details=Come+for+cake%2C+pony-sized+fun%2C+and+a+whole+lotta+yeehaw%21&amp;location=The+Marshall+Ranch+-+520+Raleigh+Lagrange%2C+Rossville%2C+TN"
             target="_blank"
             rel="noopener noreferrer">Add to Google Calendar</a>
          <a class="calendar-link"
             href="#"
             data-calendar="apple"
             role="button">Download for Apple Calendar</a>
        </div>
      </div>

      <div class="details" aria-label="Party Details">
        <div class="row"><div class="label">Time</div><div class="value">3:00 pm â€” 5:00 pm</div></div>
        <div class="row"><div class="label">Where</div><div class="value"><a href="https://maps.apple.com/?q=The%20Marshall%20Ranch%20520%20Raleigh%20Lagrange%20Rossville%20TN" target="_blank" rel="noopener noreferrer">The Marshall Ranch - 520 Raleigh Lagrange, Rossville, TN</a></div></div>
      </div>

      <div class="divider">â˜… âœ· â˜… âœ· â˜…</div>

      <div class="cta">Come for cake, pony-sized fun, and a whole lotta yeehaw!</div>

      <div class="cta">Please, no gifts â€” your presence is the best present </div>

      <div class="donate" aria-label="Optional charity contribution">
        Hoping to bring a gift? Consider donating to the <a href="https://equusfoundation.org" target="_blank" rel="noopener noreferrer">EQUUS Foundation</a> instead.
      </div>

    </section>
  </main>
  <script>
    (function () {
      const button = document.querySelector('.calendar-button');
      const menu = document.querySelector('#calendar-links');
      if (!button || !menu) {
        return;
      }
      const closeMenu = () => {
        menu.setAttribute('hidden', '');
        button.setAttribute('aria-expanded', 'false');
      };
      button.addEventListener('click', (event) => {
        event.stopPropagation();
        const isHidden = menu.hasAttribute('hidden');
        if (isHidden) {
          menu.removeAttribute('hidden');
          button.setAttribute('aria-expanded', 'true');
        } else {
          closeMenu();
        }
      });
      document.addEventListener('click', (event) => {
        if (menu.hasAttribute('hidden')) {
          return;
        }
        if (button.contains(event.target) || menu.contains(event.target)) {
          return;
        }
        closeMenu();
      });
      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') {
          closeMenu();
        }
      });
      const formatDateForIcs = (date) => date.toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
      const appleLink = document.querySelector('[data-calendar="apple"]');
      if (appleLink) {
        appleLink.addEventListener('click', (event) => {
          event.preventDefault();
          const icsContent = [
            'BEGIN:VCALENDAR',
            'VERSION:2.0',
            'PRODID:-//GiddysFirstRodeo//Invite//EN',
            'BEGIN:VEVENT',
            'UID:giddys-first-rodeo-20251018@example.com',
            `DTSTAMP:${formatDateForIcs(new Date())}`,
            'DTSTART:20251018T200000Z',
            'DTEND:20251018T220000Z',
            'SUMMARY:Giddy\'s First Rodeo',
            'DESCRIPTION:Come for cake, pony-sized fun, and a whole lotta yeehaw!',
            'LOCATION:The Marshall Ranch - 520 Raleigh Lagrange, Rossville, TN',
            'END:VEVENT',
            'END:VCALENDAR',
          ].join('\r\n');
          const blob = new Blob([icsContent], { type: 'text/calendar' });
          const url = URL.createObjectURL(blob);
          const downloadLink = document.createElement('a');
          downloadLink.href = url;
          downloadLink.download = 'Giddys_First_Rodeo.ics';
          document.body.appendChild(downloadLink);
          downloadLink.click();
          document.body.removeChild(downloadLink);
          URL.revokeObjectURL(url);
          closeMenu();
        });
      }
    })();
  </script>
</body>
</html>
